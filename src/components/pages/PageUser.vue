<template>
  <b-row class="profile" v-if="user != null">
    <b-col>
      <b-row
        :class="
          'page-header sticky-top' +
          (isScrolled ? ' scrolled bg-white border-bottom ' : '')
        "
      >
        <div class="d-flex align-items-center w-100 px-3">
          <b-link to="/">
            <i class="bi-arrow-left" />
          </b-link>
          <h6 class="p-0 my-3 mx-2 flex-grow-1 overflow-hidden">
            <ui-username :user="user" :asLink="false" :bold="false" />
            <div  no-caret ><span style="font-size: 0.8rem !important;"> 7 Posts | 1.3k Likes </span></div>
          </h6>
          <b-dropdown no-caret right variant="link" v-if="this.$store.state.currentUser">
            <template slot="button-content"
              ><i class="bi-three-dots-vertical text-white"
            /></template>
            <b-dropdown-item @click.prevent="copyLink">{{
              $t("general.copy-link-to-profile")
            }}</b-dropdown-item>
            <b-dropdown-item @click.prevent="addToList(user)">{{
              $t("general.add-to-list")
            }}</b-dropdown-item>
          </b-dropdown>
        </div>
      </b-row>
      <b-row>
        <div class="bg-light cover w-100 position-relative" style="margin-top: -70px;">
          <b-img :src="user.cover + '?rnd=' + rnd" v-if="user.cover != null" />
        </div>
        <div class="subprofile w-100 d-flex">
          <div class="avatar position-relative ml-3 rounded-circle">
            <b-avatar
              :src="user.avatar + '?rnd=' + rnd"
              :text="user.initials"
              :to="user.url"
              size="100px"
            />
            <div style="position:absolute; bottom: 5px; right: 5px">
              <i style="color: #65D164" class="ml-1 bi bi-circle-fill" v-if="user.online_status"></i>
            </div>
          </div>
          <div class="d-flex mx-2 mt-2 ml-auto" style="font-size: 150%">
            <b-link :to="this.$store.state.token ? '/messages/' + user.id : '/signup'" class="mx-2" v-if="!isOwner">
              <i class="bi-chat" />
            </b-link>
            <b-link class="mx-2" @click.prevent="addToList(user)" v-if="!isOwner">
              <i class="bi-star" />
            </b-link>
            <b-link class="mx-2" @click.prevent="copyLink">
              <i class="bi-box-arrow-up-right" />
            </b-link>
            <b-link :to="'/settings'" class="mx-2" v-if="isOwner">
              <i class="bi-gear" />
            </b-link>
            <b-link @click.prevent="tip" class="mx-2" v-if="!isOwner">
              <i class="bi-coin" />
            </b-link>
          </div>
        </div>
      </b-row>
      <b-row class="px-3 mt-3 d-block border-bottom pb-3 overflow-hidden">
          <div class="d-flex flex-float">
            <ui-username :user="user" :asLink="false" />
          </div>
        <div class="text-muted small small-username">
          {{ "@" + user.username }}
          <span v-if="!user.online_status">&nbsp;&middot;&nbsp;&nbsp;Last seen {{user.time_difference}} {{user.hms}} ago</span>
          <span v-else>&nbsp;&middot;&nbsp;&nbsp;Available now</span>
        </div>
        <UiVueShowMoreText
            :text="user.bio"
            :lines="2"
            additional-content-css="font-size:16px;"
            additional-content-expanded-css="font-size:16px;"
            additional-anchor-css="font-size: 12px;"
            @click="change"
          />
        <div v-if="user.location" class="text-muted small"><i class="bi bi-geo-alt-fill"></i> 
          {{ user.location }} &nbsp;&middot;&nbsp;&nbsp; <b-link target="_blank" :href="user.website">{{
            user.website
          }}</b-link>
        </div>
        <div style="display:flex; overflow: scroll;">
        <b-link v-if="user.instagram" :to="user.instagram" style="margin-right:7px;">
            <svg width="90" height="50" viewBox="0 0 179 60" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="0.5" y="0.5" width="178" height="59" rx="14.5" fill="#F5F6FA"></rect>
<g clip-path="url(#clip0_3_900)">
<path d="M55.3798 21.7542C55.2824 19.6252 54.9443 18.1714 54.4499 16.8994C53.9479 15.5649 53.1605 14.3561 52.1431 13.3569C51.1442 12.3395 49.9351 11.5518 48.6006 11.0495C47.3283 10.5554 45.8748 10.2176 43.7458 10.1208C41.613 10.0232 40.9315 10 35.5 10C30.0685 10 29.387 10.0232 27.2542 10.1202C25.1252 10.2176 23.6717 10.5557 22.3994 11.0501C21.0649 11.5521 19.8561 12.3395 18.8569 13.3569C17.8395 14.3558 17.0518 15.5646 16.5495 16.8991C16.0554 18.1714 15.7176 19.6252 15.6208 21.7538C15.5232 23.887 15.5 24.5682 15.5 29.9997C15.5 35.4315 15.5232 36.113 15.6208 38.2458C15.7179 40.3745 16.056 41.8283 16.5504 43.1006C17.0524 44.4348 17.8398 45.6439 18.8572 46.6428C19.8561 47.6602 21.0652 48.4476 22.3997 48.9496C23.6717 49.4443 25.1255 49.7821 27.2545 49.8795C29.3876 49.9768 30.0688 49.9997 35.5003 49.9997C40.9318 49.9997 41.6133 49.9768 43.7462 49.8795C45.8751 49.7821 47.3286 49.4443 48.6009 48.9496C51.2874 47.9108 53.4111 45.787 54.4499 43.1006C54.9446 41.8283 55.2824 40.3745 55.3798 38.2458C55.4768 36.1127 55.5 35.4315 55.5 30C55.5 24.5682 55.4768 23.887 55.3798 21.7542V21.7542ZM51.7796 38.082C51.6908 40.032 51.3649 41.091 51.0911 41.7957C50.4182 43.54 49.0397 44.9185 47.2953 45.5914C46.5907 45.8652 45.5317 46.1911 43.5817 46.2799C41.4732 46.3763 40.8406 46.3965 35.5 46.3965C30.1591 46.3965 29.5268 46.3763 27.418 46.2799C25.4683 46.1911 24.4093 45.8652 23.7043 45.5914C22.8358 45.2707 22.05 44.7595 21.4048 44.0952C20.7405 43.45 20.2293 42.6645 19.9086 41.7957C19.6348 41.091 19.3089 40.032 19.2201 38.082C19.124 35.9732 19.1035 35.3406 19.1035 30.0003C19.1035 24.6597 19.124 24.0274 19.2201 21.9183C19.3092 19.9683 19.6348 18.9093 19.9086 18.2047C20.2293 17.3358 20.7408 16.55 21.4048 15.9048C22.05 15.2405 22.8358 14.7293 23.7047 14.4089C24.4093 14.1348 25.4683 13.8092 27.4183 13.7201C29.5271 13.624 30.1597 13.6035 35.5 13.6035H35.4997C40.84 13.6035 41.4726 13.624 43.5817 13.7204C45.5317 13.8092 46.5904 14.1351 47.2953 14.4089C48.1639 14.7296 48.9497 15.2408 49.5948 15.9048C50.2592 16.55 50.7704 17.3358 51.0908 18.2047C51.3649 18.9093 51.6908 19.9683 51.7796 21.9183C51.8757 24.0271 51.8962 24.6597 51.8962 30C51.8962 35.3406 51.876 35.9729 51.7796 38.082Z" fill="url(#paint0_linear_3_900)"></path>
<path d="M35.4997 19.7296C29.8277 19.7296 25.2296 24.328 25.2296 30C25.2296 35.672 29.8277 40.2701 35.4997 40.2701C41.172 40.2701 45.7701 35.672 45.7701 30C45.7701 24.328 41.172 19.7296 35.4997 19.7296V19.7296ZM35.4997 36.6666C31.8181 36.6663 28.8331 33.6816 28.8334 29.9997C28.8334 26.3181 31.8181 23.3331 35.5 23.3331C39.1819 23.3334 42.1666 26.3181 42.1666 29.9997C42.1666 33.6816 39.1816 36.6666 35.4997 36.6666V36.6666Z" fill="url(#paint1_linear_3_900)"></path>
<path d="M48.5759 19.324C48.5759 20.6494 47.5013 21.7239 46.176 21.7239C44.8503 21.7239 43.7758 20.6494 43.7758 19.324C43.7758 17.9984 44.8503 16.9238 46.176 16.9238C47.5013 16.9238 48.5759 17.9984 48.5759 19.324V19.324Z" fill="url(#paint2_linear_3_900)"></path>
</g>
<path d="M71.2926 22.4545V37H69.098V22.4545H71.2926ZM76.4418 30.5227V37H74.3182V26.0909H76.3565V27.8665H76.4915C76.7424 27.2888 77.1354 26.8248 77.6705 26.4744C78.2102 26.1241 78.8897 25.9489 79.7088 25.9489C80.4522 25.9489 81.1032 26.1051 81.6619 26.4176C82.2206 26.7254 82.6539 27.1847 82.9616 27.7955C83.2694 28.4062 83.4233 29.1615 83.4233 30.0611V37H81.2997V30.3168C81.2997 29.526 81.0938 28.9081 80.6818 28.4631C80.2699 28.0133 79.7041 27.7884 78.9844 27.7884C78.492 27.7884 78.054 27.8949 77.6705 28.108C77.2917 28.321 76.991 28.6335 76.7685 29.0455C76.5507 29.4527 76.4418 29.9451 76.4418 30.5227ZM94.446 28.7543L92.5213 29.0952C92.4408 28.849 92.313 28.6146 92.1378 28.392C91.9673 28.1695 91.7353 27.9872 91.4418 27.8452C91.1482 27.7031 90.7813 27.6321 90.3409 27.6321C89.7396 27.6321 89.2377 27.767 88.8352 28.0369C88.4328 28.3021 88.2315 28.6454 88.2315 29.0668C88.2315 29.4313 88.3665 29.7249 88.6364 29.9474C88.9063 30.17 89.3419 30.3523 89.9432 30.4943L91.6761 30.892C92.6799 31.1241 93.428 31.4815 93.9205 31.9645C94.4129 32.4474 94.6591 33.0748 94.6591 33.8466C94.6591 34.5 94.4697 35.0824 94.0909 35.5938C93.7169 36.1004 93.1937 36.4981 92.5213 36.7869C91.8537 37.0758 91.0795 37.2202 90.1989 37.2202C88.9773 37.2202 87.9806 36.9598 87.2088 36.4389C86.437 35.9134 85.9635 35.1676 85.7884 34.2017L87.8409 33.8892C87.9688 34.4242 88.2315 34.8291 88.6293 35.1037C89.027 35.3736 89.5455 35.5085 90.1847 35.5085C90.8807 35.5085 91.437 35.3641 91.8537 35.0753C92.2704 34.7817 92.4787 34.4242 92.4787 34.0028C92.4787 33.6619 92.3509 33.3755 92.0952 33.1435C91.8442 32.9115 91.4583 32.7363 90.9375 32.6179L89.0909 32.2131C88.0729 31.9811 87.3201 31.6117 86.8324 31.1051C86.3494 30.5985 86.108 29.9569 86.108 29.1804C86.108 28.5365 86.2879 27.973 86.6477 27.4901C87.0076 27.0071 87.5047 26.6307 88.1392 26.3608C88.7737 26.0862 89.5005 25.9489 90.3196 25.9489C91.4986 25.9489 92.4266 26.2045 93.1037 26.7159C93.7808 27.2225 94.2282 27.902 94.446 28.7543ZM102.086 26.0909V27.7955H96.1275V26.0909H102.086ZM97.7255 23.4773H99.8491V33.7969C99.8491 34.2088 99.9106 34.5189 100.034 34.7273C100.157 34.9309 100.315 35.0705 100.51 35.1463C100.708 35.2173 100.924 35.2528 101.156 35.2528C101.326 35.2528 101.475 35.241 101.603 35.2173C101.731 35.1937 101.831 35.1747 101.902 35.1605L102.285 36.9148C102.162 36.9621 101.987 37.0095 101.76 37.0568C101.532 37.1089 101.248 37.1373 100.907 37.142C100.349 37.1515 99.8278 37.0521 99.3448 36.8438C98.8619 36.6354 98.4712 36.3134 98.1729 35.8778C97.8746 35.4422 97.7255 34.8954 97.7255 34.2372V23.4773ZM107.61 37.2415C106.919 37.2415 106.294 37.1136 105.735 36.858C105.176 36.5975 104.734 36.2211 104.407 35.7287C104.085 35.2363 103.924 34.6326 103.924 33.9176C103.924 33.3021 104.042 32.7955 104.279 32.3977C104.516 32 104.835 31.6851 105.238 31.4531C105.64 31.2211 106.09 31.0459 106.587 30.9276C107.085 30.8092 107.591 30.7192 108.107 30.6577C108.761 30.5819 109.291 30.5204 109.698 30.473C110.105 30.4209 110.401 30.3381 110.586 30.2244C110.771 30.1108 110.863 29.9261 110.863 29.6705V29.6207C110.863 29.0005 110.688 28.5199 110.337 28.179C109.992 27.8381 109.476 27.6676 108.789 27.6676C108.074 27.6676 107.511 27.8262 107.099 28.1435C106.692 28.456 106.41 28.804 106.254 29.1875L104.258 28.733C104.495 28.0701 104.84 27.535 105.295 27.1278C105.754 26.7159 106.282 26.4176 106.879 26.233C107.475 26.0436 108.103 25.9489 108.761 25.9489C109.196 25.9489 109.658 26.0009 110.146 26.1051C110.638 26.2045 111.097 26.3892 111.523 26.6591C111.954 26.929 112.307 27.3149 112.582 27.8168C112.856 28.3139 112.994 28.9602 112.994 29.7557V37H110.92V35.5085H110.835C110.697 35.7831 110.491 36.053 110.217 36.3182C109.942 36.5833 109.589 36.8035 109.158 36.9787C108.728 37.1539 108.211 37.2415 107.61 37.2415ZM108.072 35.5369C108.659 35.5369 109.161 35.4209 109.577 35.1889C109.999 34.9569 110.318 34.6539 110.536 34.2798C110.759 33.901 110.87 33.4962 110.87 33.0653V31.6591C110.794 31.7348 110.647 31.8059 110.43 31.8722C110.217 31.9337 109.973 31.9882 109.698 32.0355C109.424 32.0781 109.156 32.1184 108.896 32.1562C108.635 32.1894 108.417 32.2178 108.242 32.2415C107.83 32.2936 107.454 32.3812 107.113 32.5043C106.777 32.6274 106.507 32.8049 106.303 33.0369C106.104 33.2642 106.005 33.5672 106.005 33.946C106.005 34.4716 106.199 34.8693 106.587 35.1392C106.976 35.4044 107.47 35.5369 108.072 35.5369ZM120.396 41.3182C119.529 41.3182 118.784 41.2045 118.159 40.9773C117.538 40.75 117.032 40.4493 116.639 40.0753C116.246 39.7012 115.952 39.2917 115.758 38.8466L117.583 38.0938C117.711 38.3021 117.882 38.5223 118.095 38.7543C118.313 38.991 118.606 39.1922 118.975 39.358C119.35 39.5237 119.83 39.6065 120.417 39.6065C121.222 39.6065 121.887 39.41 122.413 39.017C122.939 38.6288 123.201 38.0085 123.201 37.1562V35.0114H123.066C122.939 35.2434 122.754 35.5014 122.512 35.7855C122.276 36.0696 121.949 36.3158 121.532 36.5241C121.116 36.7325 120.574 36.8366 119.906 36.8366C119.044 36.8366 118.268 36.6354 117.576 36.233C116.89 35.8258 116.345 35.2268 115.943 34.4361C115.545 33.6406 115.346 32.6629 115.346 31.5028C115.346 30.3428 115.543 29.3485 115.936 28.5199C116.333 27.6913 116.878 27.0568 117.569 26.6165C118.261 26.1714 119.044 25.9489 119.92 25.9489C120.597 25.9489 121.144 26.0625 121.561 26.2898C121.977 26.5123 122.302 26.7727 122.534 27.071C122.77 27.3693 122.953 27.6321 123.081 27.8594H123.237V26.0909H125.318V37.2415C125.318 38.179 125.1 38.9484 124.664 39.5497C124.229 40.151 123.639 40.5961 122.896 40.8849C122.157 41.1738 121.324 41.3182 120.396 41.3182ZM120.375 35.0753C120.985 35.0753 121.502 34.9332 121.923 34.6491C122.349 34.3603 122.671 33.9484 122.889 33.4134C123.111 32.8736 123.223 32.2273 123.223 31.4744C123.223 30.7405 123.114 30.0942 122.896 29.5355C122.678 28.9768 122.359 28.5412 121.937 28.2287C121.516 27.9115 120.995 27.7528 120.375 27.7528C119.735 27.7528 119.203 27.9186 118.777 28.25C118.35 28.5767 118.029 29.0218 117.811 29.5852C117.598 30.1487 117.491 30.7784 117.491 31.4744C117.491 32.1894 117.6 32.8168 117.818 33.3565C118.036 33.8963 118.358 34.3177 118.784 34.6207C119.215 34.9238 119.745 35.0753 120.375 35.0753ZM128.166 37V26.0909H130.218V27.8239H130.332C130.531 27.2367 130.881 26.7751 131.383 26.4389C131.89 26.098 132.463 25.9276 133.102 25.9276C133.234 25.9276 133.391 25.9323 133.571 25.9418C133.755 25.9512 133.9 25.9631 134.004 25.9773V28.0085C133.919 27.9848 133.767 27.9588 133.549 27.9304C133.332 27.8973 133.114 27.8807 132.896 27.8807C132.394 27.8807 131.947 27.9872 131.554 28.2003C131.165 28.4086 130.858 28.6998 130.63 29.0739C130.403 29.4432 130.289 29.8646 130.289 30.3381V37H128.166ZM138.919 37.2415C138.227 37.2415 137.602 37.1136 137.044 36.858C136.485 36.5975 136.042 36.2211 135.716 35.7287C135.394 35.2363 135.233 34.6326 135.233 33.9176C135.233 33.3021 135.351 32.7955 135.588 32.3977C135.824 32 136.144 31.6851 136.547 31.4531C136.949 31.2211 137.399 31.0459 137.896 30.9276C138.393 30.8092 138.9 30.7192 139.416 30.6577C140.069 30.5819 140.6 30.5204 141.007 30.473C141.414 30.4209 141.71 30.3381 141.895 30.2244C142.079 30.1108 142.172 29.9261 142.172 29.6705V29.6207C142.172 29.0005 141.996 28.5199 141.646 28.179C141.3 27.8381 140.784 27.6676 140.098 27.6676C139.383 27.6676 138.819 27.8262 138.407 28.1435C138 28.456 137.718 28.804 137.562 29.1875L135.566 28.733C135.803 28.0701 136.149 27.535 136.603 27.1278C137.063 26.7159 137.591 26.4176 138.187 26.233C138.784 26.0436 139.411 25.9489 140.069 25.9489C140.505 25.9489 140.967 26.0009 141.454 26.1051C141.947 26.2045 142.406 26.3892 142.832 26.6591C143.263 26.929 143.616 27.3149 143.89 27.8168C144.165 28.3139 144.302 28.9602 144.302 29.7557V37H142.228V35.5085H142.143C142.006 35.7831 141.8 36.053 141.525 36.3182C141.251 36.5833 140.898 36.8035 140.467 36.9787C140.036 37.1539 139.52 37.2415 138.919 37.2415ZM139.38 35.5369C139.967 35.5369 140.469 35.4209 140.886 35.1889C141.307 34.9569 141.627 34.6539 141.845 34.2798C142.067 33.901 142.179 33.4962 142.179 33.0653V31.6591C142.103 31.7348 141.956 31.8059 141.738 31.8722C141.525 31.9337 141.281 31.9882 141.007 32.0355C140.732 32.0781 140.465 32.1184 140.204 32.1562C139.944 32.1894 139.726 32.2178 139.551 32.2415C139.139 32.2936 138.762 32.3812 138.422 32.5043C138.085 32.6274 137.815 32.8049 137.612 33.0369C137.413 33.2642 137.314 33.5672 137.314 33.946C137.314 34.4716 137.508 34.8693 137.896 35.1392C138.284 35.4044 138.779 35.5369 139.38 35.5369ZM147.131 37V26.0909H149.169V27.8665H149.304C149.531 27.2652 149.903 26.7964 150.419 26.4602C150.935 26.1193 151.553 25.9489 152.273 25.9489C153.002 25.9489 153.613 26.1193 154.105 26.4602C154.602 26.8011 154.969 27.2699 155.206 27.8665H155.32C155.58 27.2841 155.994 26.8201 156.562 26.4744C157.131 26.1241 157.808 25.9489 158.594 25.9489C159.583 25.9489 160.391 26.259 161.016 26.8793C161.645 27.4995 161.96 28.4347 161.96 29.6847V37H159.837V29.8835C159.837 29.1449 159.635 28.6098 159.233 28.2784C158.83 27.947 158.35 27.7812 157.791 27.7812C157.1 27.7812 156.562 27.9943 156.179 28.4205C155.795 28.8419 155.604 29.384 155.604 30.0469V37H153.487V29.7486C153.487 29.1567 153.303 28.6809 152.933 28.321C152.564 27.9612 152.083 27.7812 151.491 27.7812C151.089 27.7812 150.717 27.8878 150.376 28.1009C150.04 28.3092 149.768 28.6004 149.56 28.9744C149.356 29.3485 149.254 29.7817 149.254 30.2741V37H147.131Z" fill="black"></path>
<rect x="0.5" y="0.5" width="178" height="59" rx="14.5" stroke="#DEDEDE"></rect>
<defs>
<linearGradient id="paint0_linear_3_900" x1="18.8567" y1="46.6429" x2="52.1433" y2="13.3564" gradientUnits="userSpaceOnUse">
<stop stop-color="#FFD600"></stop>
<stop offset="0.5" stop-color="#FF0100"></stop>
<stop offset="1" stop-color="#D800B9"></stop>
</linearGradient>
<linearGradient id="paint1_linear_3_900" x1="28.2377" y1="37.262" x2="42.762" y2="22.7377" gradientUnits="userSpaceOnUse">
<stop stop-color="#FF6400"></stop>
<stop offset="0.5" stop-color="#FF0100"></stop>
<stop offset="1" stop-color="#FD0056"></stop>
</linearGradient>
<linearGradient id="paint2_linear_3_900" x1="44.4788" y1="21.0209" x2="47.8729" y2="17.6269" gradientUnits="userSpaceOnUse">
<stop stop-color="#F30072"></stop>
<stop offset="1" stop-color="#E50097"></stop>
</linearGradient>
<clipPath id="clip0_3_900">
<rect width="40" height="40" fill="white" transform="translate(15.5 10)"></rect>
</clipPath>
</defs>
            </svg>
        </b-link>
        <b-link v-if="user.twitter" :to="user.twitter" >
            <svg width="90" height="50" viewBox="0 0 179 60" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="0.5" y="0.5" width="164" height="59" rx="14.5" fill="#F5F6FA"/>
<path d="M57.9034 22.0455C57.927 22.3859 57.927 22.7263 57.927 23.0698C57.927 33.5372 49.9383 45.6094 35.3306 45.6094V45.6031C31.0154 45.6094 26.7899 44.3765 23.1572 42.0517C23.7847 42.127 24.4153 42.1647 25.0475 42.1663C28.6235 42.1694 32.0973 40.9725 34.9107 38.7686C31.5123 38.7043 28.5323 36.4941 27.4913 33.2674C28.6817 33.4965 29.9083 33.4494 31.0767 33.131C27.3717 32.3843 24.7062 29.1372 24.7062 25.3663C24.7062 25.3317 24.7062 25.2988 24.7062 25.2659C25.8102 25.8792 27.0462 26.2196 28.3106 26.2572C24.821 23.931 23.7454 19.3004 25.8526 15.68C29.8847 20.629 35.8338 23.6376 42.22 23.9561C41.58 21.2047 42.4544 18.3215 44.5176 16.3874C47.7162 13.3882 52.7469 13.5419 55.7537 16.731C57.5323 16.3812 59.2369 15.7302 60.7969 14.8078C60.2041 16.6415 58.9633 18.1992 57.3058 19.189C58.88 19.0039 60.418 18.5835 61.8663 17.9419C60.8001 19.5357 59.4571 20.9239 57.9034 22.0455Z" fill="#1D9BF0"/>
<path d="M74.8807 24.3438V22.4545H86.1378V24.3438H81.5994V37H79.4119V24.3438H74.8807ZM89.57 37L86.3597 26.0909H88.5543L90.6921 34.1023H90.7987L92.9435 26.0909H95.1381L97.2688 34.0668H97.3754L99.4989 26.0909H101.694L98.4904 37H96.3242L94.1083 29.1236H93.945L91.729 37H89.57ZM103.709 37V26.0909H105.832V37H103.709ZM104.781 24.4077C104.412 24.4077 104.095 24.2846 103.83 24.0384C103.569 23.7874 103.439 23.4891 103.439 23.1435C103.439 22.7931 103.569 22.4948 103.83 22.2486C104.095 21.9976 104.412 21.8722 104.781 21.8722C105.151 21.8722 105.465 21.9976 105.726 22.2486C105.991 22.4948 106.124 22.7931 106.124 23.1435C106.124 23.4891 105.991 23.7874 105.726 24.0384C105.465 24.2846 105.151 24.4077 104.781 24.4077ZM113.782 26.0909V27.7955H107.823V26.0909H113.782ZM109.421 23.4773H111.544V33.7969C111.544 34.2088 111.606 34.5189 111.729 34.7273C111.852 34.9309 112.011 35.0705 112.205 35.1463C112.404 35.2173 112.619 35.2528 112.851 35.2528C113.022 35.2528 113.171 35.241 113.299 35.2173C113.426 35.1937 113.526 35.1747 113.597 35.1605L113.98 36.9148C113.857 36.9621 113.682 37.0095 113.455 37.0568C113.228 37.1089 112.944 37.1373 112.603 37.142C112.044 37.1515 111.523 37.0521 111.04 36.8438C110.557 36.6354 110.167 36.3134 109.868 35.8778C109.57 35.4422 109.421 34.8954 109.421 34.2372V23.4773ZM121.223 26.0909V27.7955H115.264V26.0909H121.223ZM116.862 23.4773H118.986V33.7969C118.986 34.2088 119.047 34.5189 119.17 34.7273C119.294 34.9309 119.452 35.0705 119.646 35.1463C119.845 35.2173 120.061 35.2528 120.293 35.2528C120.463 35.2528 120.612 35.241 120.74 35.2173C120.868 35.1937 120.967 35.1747 121.038 35.1605L121.422 36.9148C121.299 36.9621 121.124 37.0095 120.896 37.0568C120.669 37.1089 120.385 37.1373 120.044 37.142C119.485 37.1515 118.964 37.0521 118.482 36.8438C117.999 36.6354 117.608 36.3134 117.31 35.8778C117.011 35.4422 116.862 34.8954 116.862 34.2372V23.4773ZM128.157 37.2202C127.082 37.2202 126.156 36.9905 125.38 36.5312C124.608 36.0672 124.011 35.4162 123.59 34.5781C123.173 33.7353 122.965 32.7481 122.965 31.6165C122.965 30.4991 123.173 29.5142 123.59 28.6619C124.011 27.8097 124.598 27.1444 125.351 26.6662C126.109 26.188 126.994 25.9489 128.007 25.9489C128.623 25.9489 129.22 26.0507 129.797 26.2543C130.375 26.4579 130.893 26.7775 131.353 27.2131C131.812 27.6487 132.174 28.2145 132.439 28.9105C132.704 29.6018 132.837 30.4422 132.837 31.4318V32.1847H124.165V30.5938H130.756C130.756 30.035 130.642 29.5402 130.415 29.1094C130.188 28.6738 129.868 28.3305 129.456 28.0795C129.049 27.8286 128.571 27.7031 128.022 27.7031C127.425 27.7031 126.904 27.8499 126.459 28.1435C126.019 28.4323 125.678 28.8111 125.436 29.2798C125.2 29.7438 125.081 30.2481 125.081 30.7926V32.0355C125.081 32.7647 125.209 33.3849 125.465 33.8963C125.725 34.4077 126.087 34.7983 126.551 35.0682C127.016 35.3333 127.558 35.4659 128.178 35.4659C128.58 35.4659 128.947 35.4091 129.279 35.2955C129.61 35.1771 129.897 35.0019 130.138 34.7699C130.38 34.5379 130.564 34.2514 130.692 33.9105L132.702 34.2727C132.541 34.8646 132.252 35.383 131.836 35.8281C131.424 36.2685 130.905 36.6117 130.28 36.858C129.66 37.0994 128.952 37.2202 128.157 37.2202ZM135.193 37V26.0909H137.246V27.8239H137.359C137.558 27.2367 137.909 26.7751 138.411 26.4389C138.917 26.098 139.49 25.9276 140.129 25.9276C140.262 25.9276 140.418 25.9323 140.598 25.9418C140.783 25.9512 140.927 25.9631 141.031 25.9773V28.0085C140.946 27.9848 140.795 27.9588 140.577 27.9304C140.359 27.8973 140.141 27.8807 139.923 27.8807C139.421 27.8807 138.974 27.9872 138.581 28.2003C138.193 28.4086 137.885 28.6998 137.658 29.0739C137.43 29.4432 137.317 29.8646 137.317 30.3381V37H135.193Z" fill="black"/>
<rect x="0.5" y="0.5" width="164" height="59" rx="14.5" stroke="#DEDEDE"/>
            </svg>
        </b-link>
        <b-link v-if="user.snapchat" :to="user.snapchat" style="margin-right:7px;">
            <svg width="90" height="50" viewBox="0 0 179 60" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="0.5" y="0.5" width="178" height="59" rx="14.5" fill="#F5F6FA"/>
<g clip-path="url(#clip0_105_794)" filter="url(#filter0_i_105_794)">
<path d="M38.259 15.991C39.4946 15.991 43.6937 16.3378 45.6709 20.7666C46.3299 22.261 46.1734 24.7903 46.0421 26.8266V26.8997C46.0271 27.1247 46.013 27.3347 46.0027 27.5391C46.0955 27.5925 46.2568 27.6516 46.5052 27.6516C46.8765 27.6319 47.3255 27.5007 47.7943 27.2757C47.9996 27.1632 48.2237 27.1435 48.3755 27.1435C48.6005 27.1435 48.8246 27.1828 49.0102 27.256C49.5718 27.4416 49.928 27.8569 49.928 28.306C49.9477 28.8675 49.4396 29.356 48.4093 29.7657C48.3015 29.7994 48.1505 29.8585 47.9799 29.9119C47.4184 30.0825 46.5587 30.361 46.3149 30.9272C46.2024 31.2057 46.2418 31.5816 46.4659 32.011L46.4855 32.0307C46.5587 32.2013 48.3896 36.3713 52.4715 37.0453C52.794 37.1044 53.018 37.3819 52.9993 37.6847C52.9987 37.7806 52.9786 37.8753 52.9402 37.9632C52.6421 38.6757 51.3484 39.1988 49.0093 39.555C48.9362 39.6675 48.8584 40.0238 48.804 40.2675C48.7624 40.5 48.707 40.7298 48.638 40.9557C48.5405 41.2922 48.2959 41.4638 47.9396 41.4638H47.9059C47.7352 41.4638 47.5149 41.4244 47.2318 41.371C46.7087 41.2582 46.1751 41.201 45.6399 41.2003C45.264 41.2003 44.8927 41.22 44.4971 41.2932C43.7499 41.4253 43.0955 41.8744 42.3437 42.4013C41.2796 43.1485 40.0637 44.0082 38.2271 44.0082C38.154 44.0082 38.0809 43.9885 38.0021 43.9885H37.8165C35.9809 43.9885 34.7846 43.1485 33.7149 42.3816C32.9677 41.8538 32.333 41.4047 31.5812 41.2735C31.198 41.2168 30.8116 41.1858 30.4243 41.1807C29.7502 41.1807 29.228 41.2932 28.8324 41.371C28.6111 41.423 28.3855 41.4541 28.1584 41.4638C27.6896 41.4638 27.504 41.1807 27.4309 40.936C27.353 40.6969 27.3184 40.4475 27.2602 40.2282C27.2012 40.0032 27.128 39.6085 27.0549 39.5157C24.6577 39.2372 23.3687 38.715 23.0659 37.9828C23.0246 37.8939 23.0014 37.7977 22.9974 37.6997C22.9914 37.5474 23.0421 37.3983 23.1395 37.2811C23.237 37.1639 23.3744 37.0869 23.5252 37.065C27.6024 36.391 29.438 32.2163 29.5112 32.041L29.5309 32.0072C29.7559 31.5722 29.814 31.2019 29.6818 30.9188C29.438 30.3769 28.5784 30.0985 28.0168 29.9082C27.8681 29.8712 27.7226 29.8223 27.5818 29.7619C26.1999 29.2153 26.0096 28.5994 26.0874 28.17C26.1999 27.5691 26.9274 27.1791 27.5471 27.1791C27.728 27.1791 27.8837 27.2128 28.0252 27.2719C28.5474 27.511 29.0115 27.6432 29.4071 27.6432C29.6949 27.6432 29.8852 27.57 29.9884 27.5166L29.9293 26.8041C29.8074 24.7725 29.6462 22.2385 30.3099 20.7591C32.2337 16.35 36.4187 16.0125 37.6534 16.0125L38.1755 15.9928L38.259 15.991Z" fill="#F8F600"/>
</g>
<path d="M74.5312 26.2756C74.4555 25.6032 74.143 25.0824 73.5938 24.7131C73.0445 24.339 72.3532 24.152 71.5199 24.152C70.9233 24.152 70.4072 24.2467 69.9716 24.4361C69.536 24.6207 69.1974 24.8764 68.956 25.2031C68.7192 25.5251 68.6009 25.892 68.6009 26.304C68.6009 26.6496 68.6813 26.9479 68.8423 27.1989C69.008 27.4498 69.2235 27.6605 69.4886 27.831C69.7585 27.9967 70.0473 28.1364 70.3551 28.25C70.6629 28.3589 70.9588 28.4489 71.2429 28.5199L72.6634 28.8892C73.1274 29.0028 73.6032 29.1567 74.0909 29.3509C74.5786 29.545 75.0308 29.8007 75.4474 30.1179C75.8641 30.4351 76.2003 30.8281 76.456 31.2969C76.7164 31.7656 76.8466 32.3267 76.8466 32.9801C76.8466 33.804 76.6335 34.5355 76.2074 35.1747C75.786 35.8139 75.1728 36.3182 74.3679 36.6875C73.5677 37.0568 72.5994 37.2415 71.4631 37.2415C70.3741 37.2415 69.4318 37.0687 68.6364 36.723C67.8409 36.3774 67.2183 35.8873 66.7685 35.2528C66.3187 34.6136 66.0701 33.8561 66.0227 32.9801H68.2244C68.267 33.5057 68.4375 33.9437 68.7358 34.294C69.0388 34.6397 69.4247 34.8977 69.8935 35.0682C70.367 35.2339 70.8854 35.3168 71.4489 35.3168C72.0691 35.3168 72.6207 35.2197 73.1037 35.0256C73.5914 34.8267 73.9749 34.5521 74.2543 34.2017C74.5336 33.8466 74.6733 33.4323 74.6733 32.9588C74.6733 32.5279 74.5502 32.1752 74.304 31.9006C74.0625 31.6259 73.7334 31.3987 73.3168 31.2188C72.9048 31.0388 72.4384 30.8802 71.9176 30.7429L70.1989 30.2741C69.0341 29.9569 68.1108 29.4905 67.429 28.875C66.7519 28.2595 66.4134 27.4451 66.4134 26.4318C66.4134 25.5937 66.6406 24.8622 67.0952 24.2372C67.5497 23.6122 68.1652 23.1269 68.9418 22.7812C69.7183 22.4309 70.5942 22.2557 71.5696 22.2557C72.5545 22.2557 73.4233 22.4285 74.1761 22.7741C74.9337 23.1198 75.5303 23.5956 75.9659 24.2017C76.4015 24.803 76.6288 25.4943 76.6477 26.2756H74.5312ZM81.4222 30.5227V37H79.2987V26.0909H81.337V27.8665H81.4719C81.7229 27.2888 82.1159 26.8248 82.6509 26.4744C83.1907 26.1241 83.8701 25.9489 84.6893 25.9489C85.4326 25.9489 86.0837 26.1051 86.6424 26.4176C87.2011 26.7254 87.6344 27.1847 87.9421 27.7955C88.2499 28.4062 88.4038 29.1615 88.4038 30.0611V37H86.2802V30.3168C86.2802 29.526 86.0742 28.9081 85.6623 28.4631C85.2504 28.0133 84.6845 27.7884 83.9648 27.7884C83.4724 27.7884 83.0344 27.8949 82.6509 28.108C82.2721 28.321 81.9715 28.6335 81.7489 29.0455C81.5311 29.4527 81.4222 29.9451 81.4222 30.5227ZM94.4265 37.2415C93.7352 37.2415 93.1102 37.1136 92.5515 36.858C91.9928 36.5975 91.5501 36.2211 91.2234 35.7287C90.9014 35.2363 90.7404 34.6326 90.7404 33.9176C90.7404 33.3021 90.8588 32.7955 91.0955 32.3977C91.3323 32 91.6519 31.6851 92.0543 31.4531C92.4568 31.2211 92.9066 31.0459 93.4038 30.9276C93.9009 30.8092 94.4076 30.7192 94.9237 30.6577C95.5771 30.5819 96.1074 30.5204 96.5146 30.473C96.9218 30.4209 97.2177 30.3381 97.4023 30.2244C97.587 30.1108 97.6793 29.9261 97.6793 29.6705V29.6207C97.6793 29.0005 97.5041 28.5199 97.1538 28.179C96.8081 27.8381 96.292 27.6676 95.6055 27.6676C94.8905 27.6676 94.3271 27.8262 93.9151 28.1435C93.5079 28.456 93.2262 28.804 93.07 29.1875L91.0742 28.733C91.311 28.0701 91.6566 27.535 92.1112 27.1278C92.5704 26.7159 93.0984 26.4176 93.695 26.233C94.2915 26.0436 94.9189 25.9489 95.5771 25.9489C96.0127 25.9489 96.4743 26.0009 96.962 26.1051C97.4544 26.2045 97.9137 26.3892 98.3398 26.6591C98.7707 26.929 99.1235 27.3149 99.3981 27.8168C99.6727 28.3139 99.81 28.9602 99.81 29.7557V37H97.7362V35.5085H97.6509C97.5136 35.7831 97.3076 36.053 97.033 36.3182C96.7584 36.5833 96.4057 36.8035 95.9748 36.9787C95.5439 37.1539 95.0278 37.2415 94.4265 37.2415ZM94.8881 35.5369C95.4753 35.5369 95.9772 35.4209 96.3938 35.1889C96.8152 34.9569 97.1348 34.6539 97.3526 34.2798C97.5752 33.901 97.6864 33.4962 97.6864 33.0653V31.6591C97.6107 31.7348 97.4639 31.8059 97.2461 31.8722C97.033 31.9337 96.7892 31.9882 96.5146 32.0355C96.2399 32.0781 95.9724 32.1184 95.712 32.1562C95.4516 32.1894 95.2338 32.2178 95.0586 32.2415C94.6467 32.2936 94.2702 32.3812 93.9293 32.5043C93.5932 32.6274 93.3233 32.8049 93.1197 33.0369C92.9208 33.2642 92.8214 33.5672 92.8214 33.946C92.8214 34.4716 93.0155 34.8693 93.4038 35.1392C93.792 35.4044 94.2868 35.5369 94.8881 35.5369ZM102.638 41.0909V26.0909H104.712V27.8594H104.89C105.013 27.6321 105.191 27.3693 105.423 27.071C105.655 26.7727 105.977 26.5123 106.388 26.2898C106.8 26.0625 107.345 25.9489 108.022 25.9489C108.903 25.9489 109.689 26.1714 110.38 26.6165C111.071 27.0616 111.613 27.7031 112.006 28.5412C112.404 29.3793 112.603 30.3878 112.603 31.5668C112.603 32.7457 112.406 33.7566 112.013 34.5994C111.621 35.4375 111.081 36.0838 110.394 36.5384C109.708 36.9882 108.924 37.2131 108.043 37.2131C107.38 37.2131 106.838 37.1018 106.417 36.8793C106 36.6567 105.674 36.3963 105.437 36.098C105.2 35.7997 105.018 35.5346 104.89 35.3026H104.762V41.0909H102.638ZM104.719 31.5455C104.719 32.3125 104.831 32.9848 105.053 33.5625C105.276 34.1402 105.598 34.5923 106.019 34.919C106.441 35.241 106.957 35.402 107.567 35.402C108.202 35.402 108.732 35.2339 109.158 34.8977C109.585 34.5568 109.906 34.0952 110.124 33.5128C110.347 32.9304 110.458 32.2746 110.458 31.5455C110.458 30.8258 110.349 30.1795 110.131 29.6065C109.918 29.0336 109.596 28.5814 109.165 28.25C108.739 27.9186 108.207 27.7528 107.567 27.7528C106.952 27.7528 106.431 27.9115 106.005 28.2287C105.584 28.5459 105.264 28.9886 105.046 29.5568C104.828 30.125 104.719 30.7879 104.719 31.5455ZM119.577 37.2202C118.522 37.2202 117.612 36.9811 116.85 36.5028C116.093 36.0199 115.51 35.3546 115.103 34.5071C114.696 33.6596 114.492 32.6889 114.492 31.5952C114.492 30.4872 114.701 29.5095 115.117 28.6619C115.534 27.8097 116.121 27.1444 116.879 26.6662C117.636 26.188 118.529 25.9489 119.556 25.9489C120.385 25.9489 121.123 26.1027 121.772 26.4105C122.421 26.7135 122.944 27.1397 123.342 27.6889C123.744 28.2382 123.983 28.8797 124.059 29.6136H121.992C121.879 29.1023 121.618 28.6619 121.211 28.2926C120.808 27.9233 120.269 27.7386 119.592 27.7386C119 27.7386 118.481 27.8949 118.036 28.2074C117.596 28.5152 117.253 28.9555 117.006 29.5284C116.76 30.0966 116.637 30.7689 116.637 31.5455C116.637 32.3409 116.758 33.0275 116.999 33.6051C117.241 34.1828 117.582 34.6302 118.022 34.9474C118.467 35.2647 118.99 35.4233 119.592 35.4233C119.994 35.4233 120.359 35.3499 120.685 35.2031C121.017 35.0516 121.294 34.8362 121.516 34.5568C121.744 34.2775 121.902 33.9413 121.992 33.5483H124.059C123.983 34.2538 123.754 34.8835 123.37 35.4375C122.987 35.9915 122.473 36.4271 121.829 36.7443C121.19 37.0616 120.439 37.2202 119.577 37.2202ZM128.453 30.5227V37H126.33V22.4545H128.425V27.8665H128.56C128.816 27.2794 129.206 26.813 129.732 26.4673C130.257 26.1217 130.944 25.9489 131.792 25.9489C132.54 25.9489 133.193 26.1027 133.752 26.4105C134.315 26.7183 134.751 27.1776 135.059 27.7884C135.371 28.3944 135.527 29.152 135.527 30.0611V37H133.404V30.3168C133.404 29.5166 133.198 28.8963 132.786 28.456C132.374 28.0109 131.801 27.7884 131.067 27.7884C130.565 27.7884 130.115 27.8949 129.718 28.108C129.325 28.321 129.015 28.6335 128.787 29.0455C128.565 29.4527 128.453 29.9451 128.453 30.5227ZM141.536 37.2415C140.845 37.2415 140.22 37.1136 139.661 36.858C139.102 36.5975 138.659 36.2211 138.333 35.7287C138.011 35.2363 137.85 34.6326 137.85 33.9176C137.85 33.3021 137.968 32.7955 138.205 32.3977C138.442 32 138.761 31.6851 139.164 31.4531C139.566 31.2211 140.016 31.0459 140.513 30.9276C141.01 30.8092 141.517 30.7192 142.033 30.6577C142.686 30.5819 143.217 30.5204 143.624 30.473C144.031 30.4209 144.327 30.3381 144.512 30.2244C144.696 30.1108 144.789 29.9261 144.789 29.6705V29.6207C144.789 29.0005 144.614 28.5199 144.263 28.179C143.917 27.8381 143.401 27.6676 142.715 27.6676C142 27.6676 141.436 27.8262 141.025 28.1435C140.617 28.456 140.336 28.804 140.179 29.1875L138.184 28.733C138.42 28.0701 138.766 27.535 139.221 27.1278C139.68 26.7159 140.208 26.4176 140.804 26.233C141.401 26.0436 142.028 25.9489 142.686 25.9489C143.122 25.9489 143.584 26.0009 144.071 26.1051C144.564 26.2045 145.023 26.3892 145.449 26.6591C145.88 26.929 146.233 27.3149 146.507 27.8168C146.782 28.3139 146.919 28.9602 146.919 29.7557V37H144.846V35.5085H144.76C144.623 35.7831 144.417 36.053 144.142 36.3182C143.868 36.5833 143.515 36.8035 143.084 36.9787C142.653 37.1539 142.137 37.2415 141.536 37.2415ZM141.998 35.5369C142.585 35.5369 143.087 35.4209 143.503 35.1889C143.925 34.9569 144.244 34.6539 144.462 34.2798C144.685 33.901 144.796 33.4962 144.796 33.0653V31.6591C144.72 31.7348 144.573 31.8059 144.355 31.8722C144.142 31.9337 143.899 31.9882 143.624 32.0355C143.349 32.0781 143.082 32.1184 142.821 32.1562C142.561 32.1894 142.343 32.2178 142.168 32.2415C141.756 32.2936 141.38 32.3812 141.039 32.5043C140.703 32.6274 140.433 32.8049 140.229 33.0369C140.03 33.2642 139.931 33.5672 139.931 33.946C139.931 34.4716 140.125 34.8693 140.513 35.1392C140.901 35.4044 141.396 35.5369 141.998 35.5369ZM154.84 26.0909V27.7955H148.881V26.0909H154.84ZM150.479 23.4773H152.603V33.7969C152.603 34.2088 152.665 34.5189 152.788 34.7273C152.911 34.9309 153.069 35.0705 153.263 35.1463C153.462 35.2173 153.678 35.2528 153.91 35.2528C154.08 35.2528 154.229 35.241 154.357 35.2173C154.485 35.1937 154.585 35.1747 154.656 35.1605L155.039 36.9148C154.916 36.9621 154.741 37.0095 154.513 37.0568C154.286 37.1089 154.002 37.1373 153.661 37.142C153.103 37.1515 152.582 37.0521 152.099 36.8438C151.616 36.6354 151.225 36.3134 150.927 35.8778C150.629 35.4422 150.479 34.8954 150.479 34.2372V23.4773Z" fill="black"/>
<rect x="0.5" y="0.5" width="178" height="59" rx="14.5" stroke="#DEDEDE"/>
<defs>
<filter id="filter0_i_105_794" x="23" y="15" width="30" height="34" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset dy="4"/>
<feGaussianBlur stdDeviation="7.5"/>
<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"/>
<feBlend mode="normal" in2="shape" result="effect1_innerShadow_105_794"/>
</filter>
<clipPath id="clip0_105_794">
<rect width="30" height="30" fill="white" transform="translate(23 15)"/>
</clipPath>
</defs>
            </svg>
        </b-link>
        <b-link v-if="user.tiktok" :to="user.tiktok" style="margin-right:7px;">
            <svg width="90" height="50" viewBox="0 0 179 60" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="0.5" y="0.5" width="148" height="59" rx="14.5" fill="#F5F6FA"/>
<path d="M37 46C45.8366 46 53 38.8366 53 30C53 21.1634 45.8366 14 37 14C28.1634 14 21 21.1634 21 30C21 38.8366 28.1634 46 37 46Z" fill="black"/>
<path d="M34.8762 27.7121V26.8439C33.4126 26.6434 31.9242 26.9411 30.6502 27.689C29.3763 28.4368 28.3909 29.5915 27.8526 30.9672C27.3143 32.3429 27.2544 33.8597 27.6825 35.2735C28.1106 36.6874 29.0018 37.9162 30.2128 38.7623C29.3542 37.8328 28.7816 36.6756 28.5635 35.4292C28.3454 34.1828 28.4911 32.9 28.9831 31.7342C29.4751 30.5684 30.2926 29.5691 31.3377 28.8558C32.3828 28.1425 33.6113 27.7454 34.8762 27.7121V27.7121Z" fill="#25F4EE"/>
<path d="M35.0316 37.3038C36.6529 37.3038 37.9937 35.9961 38.054 34.3897L38.0668 20.0649H40.6641L40.6604 20.043C40.6043 19.744 40.5759 19.4405 40.5756 19.1364H37.0001L36.9943 33.483C36.9762 33.9907 36.8297 34.4856 36.5682 34.9212C36.3068 35.3569 35.9391 35.719 35.4996 35.9738C35.06 36.2286 34.563 36.3677 34.0551 36.378C33.5471 36.3883 33.0449 36.2696 32.5953 36.0329C33.1399 36.7892 34.0279 37.3038 35.0316 37.3038Z" fill="#25F4EE"/>
<path d="M45.5566 24.9559V24.1154C44.5934 24.1163 43.6508 23.836 42.8446 23.309C43.5401 24.1079 44.4846 24.7266 45.5566 24.9559Z" fill="#25F4EE"/>
<path d="M42.8449 23.3088C42.0538 22.4051 41.6179 21.2448 41.6182 20.0437H40.6449C40.7723 20.7082 41.0329 21.3401 41.411 21.9012C41.7891 22.4624 42.2768 22.9412 42.8449 23.3088V23.3088Z" fill="#FE2C55"/>
<path d="M33.9882 30.3314C32.329 30.3314 30.9594 31.709 30.9594 33.3676C30.9594 34.5234 31.6346 35.5271 32.5924 36.0311C32.2679 35.5823 32.0738 35.0526 32.0315 34.5004C31.9893 33.9483 32.1004 33.3951 32.3528 32.9022C32.6052 32.4093 32.9889 31.9957 33.4616 31.7072C33.9343 31.4187 34.4776 31.2665 35.0314 31.2674C35.3327 31.2681 35.6322 31.315 35.9194 31.4066V27.7522C35.6251 27.7106 35.3285 27.6891 35.0314 27.6876C34.978 27.6876 34.9279 27.6903 34.8762 27.6919H34.8623L34.8527 30.4578C34.5729 30.3707 34.2812 30.3281 33.9882 30.3314Z" fill="#FE2C55"/>
<path d="M45.5568 24.9134L45.5397 24.9102V27.6739C43.7493 27.6696 42.0055 27.1028 40.5546 26.0536V33.3662C40.5517 34.5674 40.2203 35.745 39.5964 36.7715C38.9725 37.798 38.0797 38.6344 37.0147 39.1901C35.9497 39.7458 34.753 39.9997 33.5541 39.9243C32.3552 39.8489 31.1998 39.4471 30.2128 38.7624C31.1134 39.7318 32.2852 40.4073 33.5754 40.7009C34.8656 40.9945 36.2143 40.8925 37.4457 40.4083C38.6771 39.924 39.734 39.08 40.4787 37.9862C41.2233 36.8925 41.6211 35.5997 41.6202 34.2766V27.0019C43.071 28.0448 44.8133 28.6046 46.6 28.6019V25.0243C46.2493 25.0241 45.8996 24.987 45.5568 24.9134V24.9134Z" fill="#FE2C55"/>
<path d="M40.5767 33.3674V26.0933C42.0277 27.1361 43.7701 27.6959 45.557 27.6933V24.913C44.5033 24.6856 43.5517 24.1227 42.845 23.3088C42.2789 22.9407 41.7936 22.4615 41.4183 21.9002C41.0429 21.339 40.7855 20.7074 40.6615 20.0437H38.0407L38.0348 34.3904C38.0117 35.016 37.7936 35.6188 37.4111 36.1144C37.0286 36.6101 36.5007 36.9737 35.9013 37.1546C35.3019 37.3355 34.661 37.3245 34.0681 37.1232C33.4753 36.9219 32.9602 36.5404 32.5948 36.032C31.9987 35.72 31.5245 35.2171 31.2479 34.6038C30.9713 33.9905 30.9084 33.3021 31.0692 32.6488C31.2299 31.9955 31.6051 31.415 32.1347 31C32.6643 30.5851 33.3178 30.3597 33.9906 30.36C34.2919 30.3608 34.5913 30.4075 34.8786 30.4986V27.6917C31.3154 27.7749 28.4434 30.6933 28.4434 34.2762C28.4426 35.9419 29.0752 37.5456 30.213 38.7621C31.1996 39.4543 32.3574 39.8624 33.5601 39.9418C34.7628 40.0212 35.9641 39.7689 37.0333 39.2124C38.1024 38.6559 38.9982 37.8165 39.623 36.7858C40.2479 35.7552 40.5777 34.5727 40.5767 33.3674Z" fill="white"/>
<path d="M65.8807 24.3438V22.4545H77.1378V24.3438H72.5994V37H70.4119V24.3438H65.8807ZM79.4549 37V26.0909H81.5785V37H79.4549ZM80.5273 24.4077C80.158 24.4077 79.8408 24.2846 79.5756 24.0384C79.3152 23.7874 79.185 23.4891 79.185 23.1435C79.185 22.7931 79.3152 22.4948 79.5756 22.2486C79.8408 21.9976 80.158 21.8722 80.5273 21.8722C80.8967 21.8722 81.2115 21.9976 81.4719 22.2486C81.7371 22.4948 81.8697 22.7931 81.8697 23.1435C81.8697 23.4891 81.7371 23.7874 81.4719 24.0384C81.2115 24.2846 80.8967 24.4077 80.5273 24.4077ZM86.3885 33.2997L86.3743 30.7074H86.7436L91.0902 26.0909H93.6328L88.6754 31.3466H88.3416L86.3885 33.2997ZM84.4354 37V22.4545H86.5589V37H84.4354ZM91.3246 37L87.4183 31.8153L88.8814 30.331L93.9311 37H91.3246ZM93.8885 24.3438V22.4545H105.146V24.3438H100.607V37H98.4197V24.3438H93.8885ZM110.476 37.2202C109.453 37.2202 108.561 36.9858 107.798 36.517C107.036 36.0483 106.444 35.3925 106.023 34.5497C105.601 33.7069 105.391 32.7221 105.391 31.5952C105.391 30.4635 105.601 29.474 106.023 28.6264C106.444 27.7789 107.036 27.1207 107.798 26.652C108.561 26.1832 109.453 25.9489 110.476 25.9489C111.499 25.9489 112.391 26.1832 113.153 26.652C113.916 27.1207 114.508 27.7789 114.929 28.6264C115.35 29.474 115.561 30.4635 115.561 31.5952C115.561 32.7221 115.35 33.7069 114.929 34.5497C114.508 35.3925 113.916 36.0483 113.153 36.517C112.391 36.9858 111.499 37.2202 110.476 37.2202ZM110.483 35.4375C111.146 35.4375 111.695 35.2623 112.131 34.9119C112.566 34.5616 112.888 34.0952 113.097 33.5128C113.31 32.9304 113.416 32.2888 113.416 31.5881C113.416 30.892 113.31 30.2528 113.097 29.6705C112.888 29.0833 112.566 28.6122 112.131 28.2571C111.695 27.902 111.146 27.7244 110.483 27.7244C109.815 27.7244 109.261 27.902 108.821 28.2571C108.385 28.6122 108.061 29.0833 107.848 29.6705C107.64 30.2528 107.536 30.892 107.536 31.5881C107.536 32.2888 107.64 32.9304 107.848 33.5128C108.061 34.0952 108.385 34.5616 108.821 34.9119C109.261 35.2623 109.815 35.4375 110.483 35.4375ZM119.885 33.2997L119.87 30.7074H120.24L124.586 26.0909H127.129L122.172 31.3466H121.838L119.885 33.2997ZM117.931 37V22.4545H120.055V37H117.931ZM124.821 37L120.914 31.8153L122.377 30.331L127.427 37H124.821Z" fill="black"/>
<rect x="0.5" y="0.5" width="148" height="59" rx="14.5" stroke="#DEDEDE"/>
        </svg>
        </b-link>
        </div>
      </b-row>
      <b-row
        class="px-3 mt-3 d-block border-bottom pb-3"
        v-if="!user.isSubscribed && !isOwner"
      >
        <h5 class="mb-3">{{ $t("general.subscription") }}</h5>
        <b-button variant="primary" block @click.prevent="subscribe">
          {{
            $t("general.subscribe-for-x", [
              user.isFree ? $t("general.free") : user.priceFormatted,
            ])
          }}
        </b-button>
      </b-row>
      <b-row
        class="px-3 mt-3 d-block border-bottom pb-3"
        v-if="
          !isOwner &&
          !user.isSubscribed &&
          !user.isFree &&
          user.bundles.length > 0
        "
      >
        <h5 class="mb-3">{{ $t("general.subscription-bundles") }}</h5>
        <b-button
          variant="primary"
          block
          @click.prevent="subscribe(item)"
          v-for="(item, index) in user.bundles"
          :key="index"
        >
          {{ $t("general.get-x-months-for-y-z-off", item.title(user)) }}
        </b-button>
      </b-row>
      <b-row class="d-block" v-if="isOwner">
        <b-nav tabs justified>
          <b-nav-item
            :active="postsType == types.active"
            @click.prevent="updatePosts(types.active)"
            >{{ $t("general.posts") }}</b-nav-item
          >
          <b-nav-item
            :active="postsType == types.scheduled"
            @click.prevent="updatePosts(types.scheduled)"
            >{{ $t("general.scheduled") }}</b-nav-item
          >
          <b-nav-item
            :active="postsType == types.expired"
            @click.prevent="updatePosts(types.expired)"
            >{{ $t("general.expired") }}</b-nav-item
          >
        </b-nav>
      </b-row>
      <ui-posts v-model="posts" />
    </b-col>
  </b-row>
</template>
<style lang="scss" scoped>
.profile {
  .page-header {
    top: -56px;
    transition: top 0.2s;
    color: white;
    .btn,
    a:not(.dropdown-item) {
      padding: 0;
      color: white;
    }
    &.scrolled {
      top: 0;
      margin-bottom: 0;
      color: black;
      .btn,
      a {
        color: black;
      }
    }
  }
  .cover {
    height: 180px;
    &:after {
      position: absolute;
      left: 0;
      right: 0;
      top: 0;
      bottom: 0;
      background: #000;
      opacity: 0.2;
      pointer-events: none;
      content: "";
      z-index: 3;
    }
    img {
      -o-object-fit: cover;
      object-fit: cover;
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
    }
  }
  .avatar {
    margin-top: -50px;
    z-index: 3;
  }
}
</style>
<style scoped lang="scss">
@import "~@/assets/scss/_variables.scss";
.nav-tabs .nav-link {
  border: none;
  border-bottom: 2px solid transparent;
  border-radius: 0;
  color: $secondary;
}
.nav-tabs .nav-link.active,
.nav-tabs .nav-item.show .nav-link {
  color: $primary;
  border-color: $primary;
}
</style>
<script>
import Post from "../models/Post";
import User from "../models/User";
import UiPosts from "../ui/UiPosts.vue";
import Payment from "../models/Payment";
import UiUsername from "../ui/UiUsername.vue";
import UiVueShowMoreText from "../ui/UiVueShowMoreText.vue";

export default {
  components: { UiPosts, UiUsername,UiVueShowMoreText },
  data: function () {
    return {
      user: null,
      posts: [],
      scrollPosition: null,
      page: 1,
      hasMore: false,
      isLoading: false,
      rnd: Math.random(),
      postsType: Post.TYPE_ACTIVE,
    };
  },
  computed: {
    isScrolled: function () {
      return this.scrollPosition >= 180;
    },
    isOwner: function () {
      if (this.$store.state.currentUser) return this.user.id == this.$store.state.currentUser.id;
      else return false;
    },
    username: function () {
      return this.$route.params.username;
    },
    types: function () {
      return {
        active: Post.TYPE_ACTIVE,
        scheduled: Post.TYPE_SCHEDULED,
        expired: Post.TYPE_EXPIRED,
      };
    },
  },
  watch: {
    
    username: function (oldV, newV) {
      if (oldV && newV && oldV != newV) {
        this.reset();
        this.loadUser();
      }
    },
  },
  mounted() {
    this.loadUser();
    window.addEventListener("scroll", this.updateScroll);
  },
  methods: {
    change(showAll) {
      console.log(showAll)
    },
    updatePosts(type) {
      this.postsType = type;
      this.reset();
      this.loadPosts();
    },
    reset() {
      this.isLoading = false;
      this.hasMore = false;
      this.page = 1;
      this.posts = [];
    },
    updateScroll() {
      this.scrollPosition = window.scrollY;
      const scrollPosition = window.innerHeight + window.scrollY;
      if (
        document.body.offsetHeight &&
        scrollPosition &&
        document.body.offsetHeight - scrollPosition <= 1000 &&
        !this.isLoading &&
        this.hasMore
      ) {
        this.loadMore();
      }
    },
    loadUser() {
      if (this.$store.state.token){
        this.$get(
          "/users/" + this.username,
          (data) => {
            this.user = new User(data);
            this.loadPosts();
          },
          (errors) => {
            console.log(errors);
          }
        );
      } else {
        this.$get(
          "/users/guest/" + this.username,
          (data) => {
            this.user = new User(data);
            this.loadPosts();
          },
          (errors) => {
            console.log(errors);
          }
        );
      }
      
    },
    loadPosts() {
      this.isLoading = true;
      if (this.$store.state.token){
        this.$get(
          "/posts/user/" +
            this.user.id +
            "?page=" +
            this.page +
            "&type=" +
            this.postsType,
          (data) => {
            let posts = [...this.posts];
            for (let obj of data.data) {
              posts.push(new Post(obj));
            }
            this.posts = posts;
            this.hasMore = data.next_page_url != null;
            this.isLoading = true;
          },
          (errors) => {
            console.log(errors);
          }
        );
      } else{
        this.$get(
          "/posts/guest/" +
            this.user.id +
            "?page=" +
            this.page +
            "&type=" +
            this.postsType,
          (data) => {
            let posts = [...this.posts];
            for (let obj of data.data) {
              posts.push(new Post(obj));
            }
            this.posts = posts;
            this.hasMore = data.next_page_url != null;
            this.isLoading = true;
          },
          (errors) => {
            console.log(errors);
          }
        );
      }
      
    },
    loadMore() {
      if (this.hasMore) {
        this.page = this.page + 1;
        this.loadPosts();
      }
    },
    copyLink() {
      const link = `${process.env.VUE_APP_APP_URL}${this.user.url}`;
      this.$copyText(link);
      this.$bvToast.toast(this.$t("general.link-copied"), {
        autoHideDelay: 2000,
        title: this.$t("general.link"),
        solid: true,
        toaster: "b-toaster-bottom-left",
      });
    },
    addToList(user) {
      if (this.$store.state.token) this.$store.state.addToListUser = user;
      else window.location.href="/signup"
    },
    subscribe(bundle) {
      if (!this.$store.state.currentUser) {
        window.location.href = "/signup"
      } else if (this.user.isFree) {
        this.$post(
          "/subscribe/" + this.user.id,
          {},
          () => {
            this.reset();
            this.loadUser();
          },
          (errors) => {
            console.log(errors);
          }
        );
      } else {
        this.$buyItem({
          type: Payment.TYPE_SUBSCRIPTION_NEW,
          user: this.user,
          bundle: bundle,
        });
      }
    },
    tip() {
      if (this.$store.state.token) {
        this.$buyItem({
        type: Payment.TYPE_TIP,
        user: this.user,
      });
      } else {
        window.location.href="/?next='/adminuser'"
      }
      
    },
  },
};
</script>
